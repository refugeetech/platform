<template name="updateArticle">
    <section id="updateArticle">
        {{#if isInRole 'contentAdmin'}}
        <div class="container">
            <div class="row">
                <div class="page-header">
                    <h2>Update Article</h2>
                    <div style="float:right;margin-top: -15px;">{{> loginButtons}}</div>
                </div>
            </div>
            <div class="row">
                <form class="form-horizontal" id="updateArticleForm" >
                    <div class="form-group">
                        <label for="title" class="col-sm-2 control-label">Title</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="title" name="title"
                             placeholder="Title" required value="{{article.title}}" >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="subtitle" class="col-sm-2 control-label">Subtitle</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="subtitle" name="subtitle"
                             placeholder="Subtitle" required value="{{article.subtitle}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="postedOn" class="col-sm-2 control-label">Posted On</label>
                        <div class="col-sm-10">
                            <input type="datetime" class="form-control" id="postedOn" name="postedOn"
                             placeholder="Posted On" value="{{ formatDate article.postedOn }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="genre" class="col-sm-2 control-label">Genre</label>
                        <div class="col-sm-10">
                            <select class="form-control" id="genre" name="genre" required>
                                {{#each genres}}
                                    <option selected="{{#if isEqual this.genre article.genre}}true{{/if}}" >{{ this.genre }}</option>
                                {{/each}}
                            </select>
                        </div>
                        <div class="col-sm-offset-2 col-sm-10 form-inline">
                            <div class="form-group">
                                <label for="addedGenre"> or add new Genre : </label>
                                <input type="text" class="form-control" id="addedGenre" name="addedGenre" placeholder="Genre">
                                <button class="btn addGenre">Add Genre</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="articleTags" class="col-sm-2 control-label">Tags</label>
                        <div class="col-sm-10">
                            <select multiple class="form-control" id="articleTags" name="articleTags" required>
                                {{#each articleTags}}
                                    <option selected="{{#if inTags this.articleTag}}true{{/if}}">{{ this.articleTag }}</option>
                                {{/each}}
                            </select>
                        </div>
                        <div class="col-sm-offset-2 col-sm-10 form-inline">
                            <div class="form-group">
                                <label for="addedTag"> or add new Tag : </label>
                                <input type="text" class="form-control" id="addedTag" name="addedTag" placeholder="Tag">
                                <button class="btn addTag">Add Tag</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="editor" class="col-sm-2 control-label">Content</label>
                        <div class="col-sm-10">
                            {{> froalaReactive _value=article.content inlineMode=false placeholder="" paragraphy=true heightMin=300 heightMax=800 }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="featuredImage" class="col-sm-2 control-label">Featured Image URL</label>
                        <div class="col-sm-10">
                            <input type="datetime" class="form-control" id="featuredImage" name="featuredImage"
                             placeholder="Featured Image URL" required value="{{article.featuredImage}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <div class="checkbox">
                                <label>
                                <input type="checkbox" name="publishMe" checked="{{#if article.isPublished}}true{{/if}}" > Publish me
                            </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-default">Submit</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        {{else}}
        <div class="container">
            <div class="row">
                <div class="page-header">
                Must be a content administrator to see this {{> loginButtons}}
                </div>
            </div>
        </div>
        {{/if}}
    </section>
</template>